# Соглашения по разработке

## Основа
Следуй техническому видению из файла `vision.md`.

## Жесткие правила

### ❌ НЕ ДЕЛАЙ
- НЕ добавляй новые npm пакеты или библиотеки
- НЕ создавай новые Java классы, контроллеры или сервисы
- НЕ изменяй backend код
- НЕ усложняй решение абстракциями и паттернами
- НЕ пиши unit-тесты

### ✅ ДЕЛАЙ
- Пиши код в ОДНОМ файле `statistics-filter.js`
- Используй ТОЛЬКО vanilla JavaScript (ES6+)
- Используй ТОЛЬКО существующие Bootstrap классы
- Добавляй data-атрибуты для маркировки: `data-row-type="warning|critical"`
- Сохраняй состояние в sessionStorage

## Стиль кода

### JavaScript
```javascript
// Простые функции без классов
function filterRows(type) {
    // Прямая работа с DOM
    document.querySelectorAll('tr[data-row-type]').forEach(row => {
        row.style.display = shouldShow(row, type) ? '' : 'none';
    });
}

// Никаких async/await для простых операций
// Никаких промисов где не нужно
// Никаких стрелочных функций в глобальной области
```

### HTML
```html
<!-- Минимальные изменения -->
<!-- Только добавление блока с кнопками -->
<!-- Использование data-атрибутов -->
<tr data-row-type="warning">...</tr>
```

## Проверка качества
Код готов, если:
1. Работает фильтрация по всем 4 типам
2. Состояние сохраняется при обновлении страницы
3. Не сломан существующий функционал
4. Код помещается в один файл < 150 строк
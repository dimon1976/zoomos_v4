# =======================================================
# ZOOMOS V4 - Основные настройки приложения
# =======================================================

# Активный профиль (dev, prod, silent)
spring.profiles.active=silent

# PostgreSQL - базовые настройки
spring.datasource.url=jdbc:postgresql://localhost:5432/zoomos_v4
spring.datasource.username=postgres
spring.datasource.password=root
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate - общие настройки
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.open-in-view=false

# =======================================================
# БИЗНЕС-НАСТРОЙКИ ПРИЛОЖЕНИЯ
# =======================================================

# File Management - управление файлами
file.management.archive.enabled=true
file.management.duplicate.scan.enabled=true
file.management.archive.max.size.gb=5
file.management.cleanup.schedule.enabled=true

# Database Maintenance - обслуживание БД
database.maintenance.cleanup.old-data.days=30
database.maintenance.performance.slow-query-threshold=1000
database.maintenance.integrity.check.enabled=true
database.maintenance.auto-cleanup.enabled=true

# Dashboard - дашборд и мониторинг
dashboard.auto-refresh.enabled=true
dashboard.auto-refresh.interval=30000
dashboard.stats.cache-duration=10000

# Flyway - миграции БД
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=false
spring.flyway.locations=classpath:db/migration
spring.flyway.clean-disabled=false
spring.flyway.clean-on-validation-error=false

# Import - настройки импорта файлов
import.async.core-pool-size=1
import.async.max-pool-size=2
import.async.queue-capacity=50
import.async.thread-name-prefix=ImportExecutor-
import.batch-size=500
import.max-memory-percentage=60
import.file-analysis.sample-rows=100
import.timeout-minutes=60

# Export - настройки экспорта файлов
export.async.threshold-rows=10000
export.batch-size=1000
export.xlsx.max-rows=1048576
export.csv.default-delimiter=;
export.csv.default-encoding=UTF-8
export.csv.default-quote-char="
export.temp.dir=data/temp/exports
export.result.dir=data/upload/exports

# Export async executor
export.async.core-pool-size=2
export.async.max-pool-size=4
export.async.queue-capacity=100
export.async.thread-name-prefix=ExportExecutor-

# =======================================================
# ФАЙЛОВАЯ СИСТЕМА И ЗАГРУЗКИ
# =======================================================

# Директории приложения
application.upload.dir=data/upload
application.export.dir=data/upload/exports
application.import.dir=data/upload/imports
application.temp.dir=data/temp

# Ограничения загружаемых файлов
spring.servlet.multipart.max-file-size=1200MB
spring.servlet.multipart.max-request-size=1200MB

# =======================================================
# СЕРВЕР И ПОРТЫ
# =======================================================
server.port=8081
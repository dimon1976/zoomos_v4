# Workflow: Разработка утилиты сбора финальных ссылок

## Принцип работы

Строго следовать плану из [tasklist.md](tasklist.md). Каждая итерация выполняется по схеме:

1. **СОГЛАСОВАНИЕ** → 2. **РЕАЛИЗАЦИЯ** → 3. **ПОДТВЕРЖДЕНИЕ** → 4. **КОММИТ**

## Алгоритм выполнения итерации

### 1. СОГЛАСОВАНИЕ (обязательно перед кодированием)
- Изучить задачи текущей итерации в `tasklist.md`
- Предложить КОНКРЕТНЫЕ отрезки кода для каждой задачи
- Указать файлы, которые будут созданы/изменены
- Показать структуру классов и методов
- **ДОЖДАТЬСЯ ОДОБРЕНИЯ** перед переходом к реализации

### 2. РЕАЛИЗАЦИЯ 
- Создать/изменить файлы согласно одобренному плану
- Следовать принципам KISS и MVP
- Использовать Java Spring Boot best practices
- Добавить необходимые тесты
- Логировать ключевые операции

### 3. ПОДТВЕРЖДЕНИЕ
- Показать реализованный код
- **ДОЖДАТЬСЯ ПОДТВЕРЖДЕНИЯ** качества
- При необходимости внести исправления
- Только после одобрения переходить к коммиту

### 4. КОММИТ И ОБНОВЛЕНИЕ
- Сделать коммит в репозиторий с описательным сообщением
- Обновить статус итерации в `tasklist.md` (⏸️ → ✅)
- Отметить выполненные задачи чекбоксами
- **ДОЖДАТЬСЯ РАЗРЕШЕНИЯ** на переход к следующей итерации

## Ограничения и правила

### Кодирование
- Общий лимит: ~950 строк кода для всей утилиты
- Приоритет простоты над универсальностью
- Одна задача = один коммит
- Тестировать каждый компонент

### Структура проекта
```
src/main/java/com/zoomos/utils/redirect/
├── controller/     # Контроллеры REST API
├── service/        # Бизнес логика
├── strategy/       # Стратегии обработки
├── model/          # Модели данных
└── dto/            # DTO объекты
```

### Коммуникация
- НЕ начинать кодирование без согласования
- НЕ переходить к следующей итерации без подтверждения
- Показывать конкретные примеры кода при согласовании
- Отвечать односложно на запросы подтверждения ("Да", "Принято", "Согласен")

## Контроль качества

### При согласовании проверить:
- [ ] Соответствие задачам из `tasklist.md`
- [ ] Простота решения (принцип KISS)
- [ ] Возможность тестирования
- [ ] Интеграция с существующим кодом

### При реализации проверить:
- [ ] Код работает без ошибок
- [ ] Добавлены необходимые тесты
- [ ] Следует соглашениям Java/Spring Boot
- [ ] Логирование ключевых операций

### При коммите проверить:
- [ ] Статус обновлен в `tasklist.md`
- [ ] Все задачи итерации отмечены как выполненные
- [ ] Коммит содержит описательное сообщение
- [ ] Код готов к интеграции

## Переход между итерациями

Следующая итерация начинается только после:
1. Завершения всех задач текущей итерации
2. Успешного тестирования функциональности  
3. Обновления статуса в `tasklist.md`
4. Коммита изменений
5. **ЯВНОГО РАЗРЕШЕНИЯ** на продолжение

## Экстренные ситуации

При критических ошибках:
1. Остановить текущую итерацию
2. Сообщить о проблеме
3. Дождаться инструкций по исправлению
4. НЕ переходить к следующей итерации до решения проблемы

---

**Помните:** Качество важнее скорости. Лучше медленно, но правильно, чем быстро, но с ошибками.